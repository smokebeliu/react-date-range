"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = DayCell;
var _dateFns = require("date-fns");
var _react = _interopRequireDefault(require("react"));
var _classnames = _interopRequireDefault(require("classnames"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }
function DayCell(_ref) {
  let {
    day,
    dayDisplayFormat,
    date,
    ranges,
    preview,
    onPreviewChange,
    disabled,
    isPassive,
    isToday,
    isWeekend,
    isStartOfWeek,
    isEndOfWeek,
    isStartOfMonth,
    isEndOfMonth,
    displayMode,
    onMouseDown,
    onMouseUp,
    onMouseEnter,
    color,
    styles,
    dayContentRenderer
  } = _ref;
  const [state, setState] = _react.default.useState({
    hover: false,
    active: false
  });
  const handleKeyEvent = event => {
    if (["Space", " ", "Enter"].includes(event.key)) {
      if (event.type === 'keydown') {
        onMouseDown?.(day);
      } else {
        onMouseUp?.(day);
      }
    }
  };
  const handleMouseEvent = event => {
    const stateChanges = {
      ...state
    };
    if (disabled) {
      onPreviewChange?.();
      return;
    }
    switch (event.type) {
      case 'mouseenter':
        onMouseEnter?.(day);
        onPreviewChange?.(day);
        stateChanges.hover = true;
        break;
      case 'blur':
      case 'mouseleave':
        stateChanges.hover = false;
        break;
      case 'mousedown':
        stateChanges.active = true;
        onMouseDown?.(day);
        break;
      case 'mouseup':
        event.stopPropagation();
        stateChanges.active = false;
        onMouseUp?.(day);
        break;
      case 'focus':
        onPreviewChange?.(day);
        break;
    }
    if (stateChanges.hover != state.hover || stateChanges.active != state.active) {
      setState(stateChanges);
    }
  };
  const getClassNames = () => {
    return (0, _classnames.default)(styles.day, {
      [styles.dayPassive]: isPassive,
      [styles.dayDisabled]: disabled,
      [styles.dayToday]: isToday,
      [styles.dayWeekend]: isWeekend,
      [styles.dayStartOfWeek]: isStartOfWeek,
      [styles.dayEndOfWeek]: isEndOfWeek,
      [styles.dayStartOfMonth]: isStartOfMonth,
      [styles.dayEndOfMonth]: isEndOfMonth,
      [styles.dayHovered]: state.hover,
      [styles.dayActive]: state.active
    });
  };
  return /*#__PURE__*/_react.default.createElement("button", _extends({
    type: "button",
    onMouseEnter: handleMouseEvent,
    onMouseLeave: handleMouseEvent,
    onFocus: handleMouseEvent,
    onMouseDown: handleMouseEvent,
    onMouseUp: handleMouseEvent,
    onBlur: handleMouseEvent,
    onPauseCapture: handleMouseEvent,
    onKeyDown: handleKeyEvent,
    onKeyUp: handleKeyEvent,
    className: getClassNames()
  }, disabled || isPassive ? {
    tabIndex: -1
  } : {}, {
    style: {
      color
    }
  }), /*#__PURE__*/_react.default.createElement(SelectionPlaceholders, {
    styles: styles,
    ranges: ranges,
    day: day,
    date: date,
    displayMode: displayMode,
    color: color
  }), /*#__PURE__*/_react.default.createElement(PreviewPlaceholder, {
    styles: styles,
    day: day,
    preview: preview
  }), /*#__PURE__*/_react.default.createElement("span", {
    className: styles.dayNumber
  }, dayContentRenderer?.(day) || /*#__PURE__*/_react.default.createElement("span", null, (0, _dateFns.format)(day, dayDisplayFormat))));
}
function SelectionPlaceholders(_ref2) {
  let {
    styles,
    ranges,
    day,
    date,
    displayMode,
    color
  } = _ref2;
  if (displayMode == 'date') {
    const isSelected = (0, _dateFns.isSameDay)(day, date);
    return isSelected ? /*#__PURE__*/_react.default.createElement("span", {
      className: styles.selected,
      style: {
        color
      }
    }) : null;
  }
  const inRanges = ranges.reduce((result, range) => {
    let startDate = range.startDate;
    let endDate = range.endDate;
    if (startDate && endDate && (0, _dateFns.isBefore)(endDate, startDate)) {
      [startDate, endDate] = [endDate, startDate];
    }
    startDate = startDate ? (0, _dateFns.endOfDay)(startDate) : null;
    endDate = endDate ? (0, _dateFns.startOfDay)(endDate) : null;
    const isInRange = (!startDate || (0, _dateFns.isAfter)(day, startDate)) && (!endDate || (0, _dateFns.isBefore)(day, endDate));
    const isStartEdge = !isInRange && (0, _dateFns.isSameDay)(day, startDate);
    const isEndEdge = !isInRange && (0, _dateFns.isSameDay)(day, endDate);
    if (isInRange || isStartEdge || isEndEdge) {
      return [...result, {
        isStartEdge,
        isEndEdge: isEndEdge,
        isInRange,
        ...range
      }];
    }
    return result;
  }, []);
  return inRanges.map((range, i) => /*#__PURE__*/_react.default.createElement("span", {
    key: i,
    className: (0, _classnames.default)({
      [styles.startEdge]: range.isStartEdge,
      [styles.endEdge]: range.isEndEdge,
      [styles.inRange]: range.isInRange
    }),
    style: {
      color: range.color || color
    }
  }));
}
function PreviewPlaceholder(_ref3) {
  let {
    preview,
    day,
    styles
  } = _ref3;
  if (!preview) return null;
  const startDate = preview.startDate ? (0, _dateFns.endOfDay)(preview.startDate) : null;
  const endDate = preview.endDate ? (0, _dateFns.startOfDay)(preview.endDate) : null;
  const isInRange = (!startDate || (0, _dateFns.isAfter)(day, startDate)) && (!endDate || (0, _dateFns.isBefore)(day, endDate));
  const isStartEdge = !isInRange && (0, _dateFns.isSameDay)(day, startDate);
  const isEndEdge = !isInRange && (0, _dateFns.isSameDay)(day, endDate);
  return /*#__PURE__*/_react.default.createElement("span", {
    className: (0, _classnames.default)({
      [styles.dayStartPreview]: isStartEdge,
      [styles.dayInPreview]: isInRange,
      [styles.dayEndPreview]: isEndEdge
    }),
    style: {
      color: preview.color
    }
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZGF0ZUZucyIsInJlcXVpcmUiLCJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX2NsYXNzbmFtZXMiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9leHRlbmRzIiwiT2JqZWN0IiwiYXNzaWduIiwiYmluZCIsInRhcmdldCIsImkiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJzb3VyY2UiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJhcHBseSIsIkRheUNlbGwiLCJfcmVmIiwiZGF5IiwiZGF5RGlzcGxheUZvcm1hdCIsImRhdGUiLCJyYW5nZXMiLCJwcmV2aWV3Iiwib25QcmV2aWV3Q2hhbmdlIiwiZGlzYWJsZWQiLCJpc1Bhc3NpdmUiLCJpc1RvZGF5IiwiaXNXZWVrZW5kIiwiaXNTdGFydE9mV2VlayIsImlzRW5kT2ZXZWVrIiwiaXNTdGFydE9mTW9udGgiLCJpc0VuZE9mTW9udGgiLCJkaXNwbGF5TW9kZSIsIm9uTW91c2VEb3duIiwib25Nb3VzZVVwIiwib25Nb3VzZUVudGVyIiwiY29sb3IiLCJzdHlsZXMiLCJkYXlDb250ZW50UmVuZGVyZXIiLCJzdGF0ZSIsInNldFN0YXRlIiwiUmVhY3QiLCJ1c2VTdGF0ZSIsImhvdmVyIiwiYWN0aXZlIiwiaGFuZGxlS2V5RXZlbnQiLCJldmVudCIsImluY2x1ZGVzIiwidHlwZSIsImhhbmRsZU1vdXNlRXZlbnQiLCJzdGF0ZUNoYW5nZXMiLCJzdG9wUHJvcGFnYXRpb24iLCJnZXRDbGFzc05hbWVzIiwiY2xhc3NuYW1lcyIsImRheVBhc3NpdmUiLCJkYXlEaXNhYmxlZCIsImRheVRvZGF5IiwiZGF5V2Vla2VuZCIsImRheVN0YXJ0T2ZXZWVrIiwiZGF5RW5kT2ZXZWVrIiwiZGF5U3RhcnRPZk1vbnRoIiwiZGF5RW5kT2ZNb250aCIsImRheUhvdmVyZWQiLCJkYXlBY3RpdmUiLCJjcmVhdGVFbGVtZW50Iiwib25Nb3VzZUxlYXZlIiwib25Gb2N1cyIsIm9uQmx1ciIsIm9uUGF1c2VDYXB0dXJlIiwib25LZXlEb3duIiwib25LZXlVcCIsImNsYXNzTmFtZSIsInRhYkluZGV4Iiwic3R5bGUiLCJTZWxlY3Rpb25QbGFjZWhvbGRlcnMiLCJQcmV2aWV3UGxhY2Vob2xkZXIiLCJkYXlOdW1iZXIiLCJmb3JtYXQiLCJfcmVmMiIsImlzU2VsZWN0ZWQiLCJpc1NhbWVEYXkiLCJzZWxlY3RlZCIsImluUmFuZ2VzIiwicmVkdWNlIiwicmVzdWx0IiwicmFuZ2UiLCJzdGFydERhdGUiLCJlbmREYXRlIiwiaXNCZWZvcmUiLCJlbmRPZkRheSIsInN0YXJ0T2ZEYXkiLCJpc0luUmFuZ2UiLCJpc0FmdGVyIiwiaXNTdGFydEVkZ2UiLCJpc0VuZEVkZ2UiLCJtYXAiLCJzdGFydEVkZ2UiLCJlbmRFZGdlIiwiaW5SYW5nZSIsIl9yZWYzIiwiZGF5U3RhcnRQcmV2aWV3IiwiZGF5SW5QcmV2aWV3IiwiZGF5RW5kUHJldmlldyJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0RheUNlbGwvaW5kZXgudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGVuZE9mRGF5LCBmb3JtYXQsIGlzQWZ0ZXIsIGlzQmVmb3JlLCBpc1NhbWVEYXksIHN0YXJ0T2ZEYXkgfSBmcm9tICdkYXRlLWZucyc7XG5pbXBvcnQgUmVhY3QsIHsgRm9jdXNFdmVudCwgS2V5Ym9hcmRFdmVudCwgTW91c2VFdmVudCwgUmVhY3RFbGVtZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgU3R5bGVzVHlwZSB9IGZyb20gJy4uLy4uL3N0eWxlcyc7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcblxuZXhwb3J0IHR5cGUgRGF0ZVJhbmdlID0ge1xuICBzdGFydERhdGU6IERhdGUsXG4gIGVuZERhdGU6IERhdGUsXG4gIGNvbG9yPzogc3RyaW5nLFxuICBrZXk/OiBzdHJpbmcsXG4gIGF1dG9Gb2N1cz86IGJvb2xlYW4sXG4gIGRpc2FibGVkPzogYm9vbGVhbixcbiAgc2hvd0RhdGVEaXNwbGF5PzogYm9vbGVhbixcbiAgbGFiZWw/OiBzdHJpbmdcbn07XG5cbmV4cG9ydCB0eXBlIERheUNlbGxQcm9wcyA9IHtcbiAgZGF5OiBEYXRlLFxuICBkYXlEaXNwbGF5Rm9ybWF0OiBzdHJpbmcsXG4gIGRhdGU/OiBEYXRlLFxuICByYW5nZXM6IERhdGVSYW5nZVtdXG4gIGRpc3BsYXlNb2RlOiBcImRhdGVSYW5nZVwiIHwgXCJkYXRlXCIsXG4gIHByZXZpZXc/OiB7XG4gICAgc3RhcnREYXRlPzogRGF0ZSxcbiAgICBlbmREYXRlPzogRGF0ZSxcbiAgICBjb2xvcj86IHN0cmluZ1xuICB9LFxuICBvblByZXZpZXdDaGFuZ2U/OiAoZGF0ZT86IERhdGUpID0+IHZvaWQsXG4gIGRpc2FibGVkPzogYm9vbGVhbixcbiAgaXNQYXNzaXZlPzogYm9vbGVhbixcbiAgaXNUb2RheT86IGJvb2xlYW4sXG4gIGlzV2Vla2VuZD86IGJvb2xlYW4sXG4gIGlzU3RhcnRPZldlZWs/OiBib29sZWFuLFxuICBpc0VuZE9mV2Vlaz86IGJvb2xlYW4sXG4gIGlzU3RhcnRPZk1vbnRoPzogYm9vbGVhbixcbiAgaXNFbmRPZk1vbnRoPzogYm9vbGVhbixcbiAgb25Nb3VzZURvd24/OiAoZGF0ZTogRGF0ZSkgPT4gdm9pZCxcbiAgb25Nb3VzZVVwPzogKGRhdGU6IERhdGUpID0+IHZvaWQsXG4gIG9uTW91c2VFbnRlcj86IChkYXRlOiBEYXRlKSA9PiB2b2lkLFxuICBjb2xvcjogc3RyaW5nLFxuICBzdHlsZXM6IFN0eWxlc1R5cGUsXG4gIGRheUNvbnRlbnRSZW5kZXJlcj86IChkYXRlOiBEYXRlKSA9PiBSZWFjdEVsZW1lbnRcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIERheUNlbGwoe1xuICBkYXksXG4gIGRheURpc3BsYXlGb3JtYXQsXG4gIGRhdGUsXG4gIHJhbmdlcyxcbiAgcHJldmlldyxcbiAgb25QcmV2aWV3Q2hhbmdlLFxuICBkaXNhYmxlZCxcbiAgaXNQYXNzaXZlLFxuICBpc1RvZGF5LFxuICBpc1dlZWtlbmQsXG4gIGlzU3RhcnRPZldlZWssXG4gIGlzRW5kT2ZXZWVrLFxuICBpc1N0YXJ0T2ZNb250aCxcbiAgaXNFbmRPZk1vbnRoLFxuICBkaXNwbGF5TW9kZSxcbiAgb25Nb3VzZURvd24sXG4gIG9uTW91c2VVcCxcbiAgb25Nb3VzZUVudGVyLFxuICBjb2xvcixcbiAgc3R5bGVzLFxuICBkYXlDb250ZW50UmVuZGVyZXJcbn06IERheUNlbGxQcm9wcykge1xuXG4gIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gUmVhY3QudXNlU3RhdGUoeyBob3ZlcjogZmFsc2UsIGFjdGl2ZTogZmFsc2UgfSk7XG5cbiAgY29uc3QgaGFuZGxlS2V5RXZlbnQgPSAoZXZlbnQ6IEtleWJvYXJkRXZlbnQ8SFRNTEJ1dHRvbkVsZW1lbnQ+KSA9PiB7XG4gICAgaWYgKFtcIlNwYWNlXCIsIFwiIFwiLCBcIkVudGVyXCJdLmluY2x1ZGVzKGV2ZW50LmtleSkpIHtcbiAgICAgIGlmIChldmVudC50eXBlID09PSAna2V5ZG93bicpIHtcbiAgICAgICAgb25Nb3VzZURvd24/LihkYXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb25Nb3VzZVVwPy4oZGF5KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb25zdCBoYW5kbGVNb3VzZUV2ZW50ID0gKGV2ZW50OiBNb3VzZUV2ZW50PEhUTUxCdXR0b25FbGVtZW50PiB8IEZvY3VzRXZlbnQ8SFRNTEJ1dHRvbkVsZW1lbnQ+KSA9PiB7XG4gICAgY29uc3Qgc3RhdGVDaGFuZ2VzID0geyAuLi5zdGF0ZSB9O1xuXG4gICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICBvblByZXZpZXdDaGFuZ2U/LigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xuICAgICAgY2FzZSAnbW91c2VlbnRlcic6XG4gICAgICAgIG9uTW91c2VFbnRlcj8uKGRheSk7XG4gICAgICAgIG9uUHJldmlld0NoYW5nZT8uKGRheSk7XG4gICAgICAgIHN0YXRlQ2hhbmdlcy5ob3ZlciA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYmx1cic6XG4gICAgICBjYXNlICdtb3VzZWxlYXZlJzpcbiAgICAgICAgc3RhdGVDaGFuZ2VzLmhvdmVyID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbW91c2Vkb3duJzpcbiAgICAgICAgc3RhdGVDaGFuZ2VzLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIG9uTW91c2VEb3duPy4oZGF5KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdtb3VzZXVwJzpcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHN0YXRlQ2hhbmdlcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgb25Nb3VzZVVwPy4oZGF5KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdmb2N1cyc6XG4gICAgICAgIG9uUHJldmlld0NoYW5nZT8uKGRheSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGlmIChzdGF0ZUNoYW5nZXMuaG92ZXIgIT0gc3RhdGUuaG92ZXIgfHwgc3RhdGVDaGFuZ2VzLmFjdGl2ZSAhPSBzdGF0ZS5hY3RpdmUpIHtcbiAgICAgIHNldFN0YXRlKHN0YXRlQ2hhbmdlcyk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZ2V0Q2xhc3NOYW1lcyA9ICgpID0+IHtcbiAgICByZXR1cm4gY2xhc3NuYW1lcyhzdHlsZXMuZGF5LCB7XG4gICAgICBbc3R5bGVzLmRheVBhc3NpdmVdOiBpc1Bhc3NpdmUsXG4gICAgICBbc3R5bGVzLmRheURpc2FibGVkXTogZGlzYWJsZWQsXG4gICAgICBbc3R5bGVzLmRheVRvZGF5XTogaXNUb2RheSxcbiAgICAgIFtzdHlsZXMuZGF5V2Vla2VuZF06IGlzV2Vla2VuZCxcbiAgICAgIFtzdHlsZXMuZGF5U3RhcnRPZldlZWtdOiBpc1N0YXJ0T2ZXZWVrLFxuICAgICAgW3N0eWxlcy5kYXlFbmRPZldlZWtdOiBpc0VuZE9mV2VlayxcbiAgICAgIFtzdHlsZXMuZGF5U3RhcnRPZk1vbnRoXTogaXNTdGFydE9mTW9udGgsXG4gICAgICBbc3R5bGVzLmRheUVuZE9mTW9udGhdOiBpc0VuZE9mTW9udGgsXG4gICAgICBbc3R5bGVzLmRheUhvdmVyZWRdOiBzdGF0ZS5ob3ZlcixcbiAgICAgIFtzdHlsZXMuZGF5QWN0aXZlXTogc3RhdGUuYWN0aXZlLFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8YnV0dG9uXG4gICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgIG9uTW91c2VFbnRlcj17aGFuZGxlTW91c2VFdmVudH1cbiAgICAgIG9uTW91c2VMZWF2ZT17aGFuZGxlTW91c2VFdmVudH1cbiAgICAgIG9uRm9jdXM9e2hhbmRsZU1vdXNlRXZlbnR9XG4gICAgICBvbk1vdXNlRG93bj17aGFuZGxlTW91c2VFdmVudH1cbiAgICAgIG9uTW91c2VVcD17aGFuZGxlTW91c2VFdmVudH1cbiAgICAgIG9uQmx1cj17aGFuZGxlTW91c2VFdmVudH1cbiAgICAgIG9uUGF1c2VDYXB0dXJlPXtoYW5kbGVNb3VzZUV2ZW50fVxuICAgICAgb25LZXlEb3duPXtoYW5kbGVLZXlFdmVudH1cbiAgICAgIG9uS2V5VXA9e2hhbmRsZUtleUV2ZW50fVxuICAgICAgY2xhc3NOYW1lPXtnZXRDbGFzc05hbWVzKCl9XG4gICAgICB7Li4uKGRpc2FibGVkIHx8IGlzUGFzc2l2ZSA/IHsgdGFiSW5kZXg6IC0xIH0gOiB7fSl9XG4gICAgICBzdHlsZT17eyBjb2xvciB9fVxuICAgID5cbiAgICAgIDxTZWxlY3Rpb25QbGFjZWhvbGRlcnMgc3R5bGVzPXtzdHlsZXN9IHJhbmdlcz17cmFuZ2VzfSBkYXk9e2RheX0gZGF0ZT17ZGF0ZX0gZGlzcGxheU1vZGU9e2Rpc3BsYXlNb2RlfSBjb2xvcj17Y29sb3J9IC8+XG4gICAgICA8UHJldmlld1BsYWNlaG9sZGVyIHN0eWxlcz17c3R5bGVzfSBkYXk9e2RheX0gcHJldmlldz17cHJldmlld30gLz5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT17c3R5bGVzLmRheU51bWJlcn0+XG4gICAgICAgIHtcbiAgICAgICAgICBkYXlDb250ZW50UmVuZGVyZXI/LihkYXkpIHx8IDxzcGFuPntmb3JtYXQoZGF5LCBkYXlEaXNwbGF5Rm9ybWF0KX08L3NwYW4+XG4gICAgICAgIH1cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2J1dHRvbj5cbiAgKVxufVxuXG50eXBlIFNlbGVjdGlvblBsYWNlaG9sZGVyc1Byb3BzID0ge1xuICBzdHlsZXM6IFN0eWxlc1R5cGUsXG4gIHJhbmdlczogRGF0ZVJhbmdlW10sXG4gIGRheTogRGF0ZSxcbiAgZGF0ZTogRGF0ZSxcbiAgZGlzcGxheU1vZGU6IERheUNlbGxQcm9wc1tcImRpc3BsYXlNb2RlXCJdLFxuICBjb2xvcjogc3RyaW5nXG59O1xuXG5mdW5jdGlvbiBTZWxlY3Rpb25QbGFjZWhvbGRlcnMoe1xuICBzdHlsZXMsXG4gIHJhbmdlcyxcbiAgZGF5LFxuICBkYXRlLFxuICBkaXNwbGF5TW9kZSxcbiAgY29sb3Jcbn06IFNlbGVjdGlvblBsYWNlaG9sZGVyc1Byb3BzKSB7XG5cblxuICBpZiAoZGlzcGxheU1vZGUgPT0gJ2RhdGUnKSB7XG4gICAgY29uc3QgaXNTZWxlY3RlZCA9IGlzU2FtZURheShkYXksIGRhdGUpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIGlzU2VsZWN0ZWQgPyA8c3BhbiBjbGFzc05hbWU9e3N0eWxlcy5zZWxlY3RlZH0gc3R5bGU9e3sgY29sb3IgfX0+PC9zcGFuPiA6IG51bGxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgaW5SYW5nZXMgPSByYW5nZXMucmVkdWNlKChyZXN1bHQ6IEFycmF5PERhdGVSYW5nZSAmIHsgaXNTdGFydEVkZ2U6IGJvb2xlYW4sIGlzRW5kRWRnZTogYm9vbGVhbiwgaXNJblJhbmdlOiBib29sZWFuIH0+LCByYW5nZTogRGF0ZVJhbmdlKSA9PiB7XG4gICAgbGV0IHN0YXJ0RGF0ZTogRGF0ZSB8IG51bGwgPSByYW5nZS5zdGFydERhdGU7XG4gICAgbGV0IGVuZERhdGU6IERhdGUgfCBudWxsID0gcmFuZ2UuZW5kRGF0ZTtcbiAgICBpZiAoc3RhcnREYXRlICYmIGVuZERhdGUgJiYgaXNCZWZvcmUoZW5kRGF0ZSwgc3RhcnREYXRlKSkge1xuICAgICAgW3N0YXJ0RGF0ZSwgZW5kRGF0ZV0gPSBbZW5kRGF0ZSwgc3RhcnREYXRlXTtcbiAgICB9XG5cbiAgICBzdGFydERhdGUgPSBzdGFydERhdGUgPyBlbmRPZkRheShzdGFydERhdGUpIDogbnVsbDtcbiAgICBlbmREYXRlID0gZW5kRGF0ZSA/IHN0YXJ0T2ZEYXkoZW5kRGF0ZSkgOiBudWxsO1xuXG4gICAgY29uc3QgaXNJblJhbmdlID1cbiAgICAgICghc3RhcnREYXRlIHx8IGlzQWZ0ZXIoZGF5LCBzdGFydERhdGUpKSAmJiAoIWVuZERhdGUgfHwgaXNCZWZvcmUoZGF5LCBlbmREYXRlKSk7XG4gICAgY29uc3QgaXNTdGFydEVkZ2UgPSAhaXNJblJhbmdlICYmIGlzU2FtZURheShkYXksIHN0YXJ0RGF0ZSBhcyBEYXRlKTtcbiAgICBjb25zdCBpc0VuZEVkZ2UgPSAhaXNJblJhbmdlICYmIGlzU2FtZURheShkYXksIGVuZERhdGUgYXMgRGF0ZSk7XG4gICAgaWYgKGlzSW5SYW5nZSB8fCBpc1N0YXJ0RWRnZSB8fCBpc0VuZEVkZ2UpIHtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIC4uLnJlc3VsdCxcbiAgICAgICAge1xuICAgICAgICAgIGlzU3RhcnRFZGdlLFxuICAgICAgICAgIGlzRW5kRWRnZTogaXNFbmRFZGdlLFxuICAgICAgICAgIGlzSW5SYW5nZSxcbiAgICAgICAgICAuLi5yYW5nZSxcbiAgICAgICAgfSxcbiAgICAgIF07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sIFtdKTtcblxuICByZXR1cm4gaW5SYW5nZXMubWFwKChyYW5nZSwgaSkgPT4gKFxuICAgIDxzcGFuXG4gICAgICBrZXk9e2l9XG4gICAgICBjbGFzc05hbWU9e2NsYXNzbmFtZXMoe1xuICAgICAgICBbc3R5bGVzLnN0YXJ0RWRnZV06IHJhbmdlLmlzU3RhcnRFZGdlLFxuICAgICAgICBbc3R5bGVzLmVuZEVkZ2VdOiByYW5nZS5pc0VuZEVkZ2UsXG4gICAgICAgIFtzdHlsZXMuaW5SYW5nZV06IHJhbmdlLmlzSW5SYW5nZSxcbiAgICAgIH0pfVxuICAgICAgc3R5bGU9e3sgY29sb3I6IHJhbmdlLmNvbG9yIHx8IGNvbG9yIH19XG4gICAgLz5cbiAgKSk7XG5cbn1cblxudHlwZSBQcmV2aWV3UGxhY2Vob2xkZXJQcm9wcyA9IHtcbiAgcHJldmlldz86IERheUNlbGxQcm9wc1tcInByZXZpZXdcIl0sXG4gIGRheTogRGF0ZSxcbiAgc3R5bGVzOiBTdHlsZXNUeXBlXG59O1xuXG5mdW5jdGlvbiBQcmV2aWV3UGxhY2Vob2xkZXIoe1xuICBwcmV2aWV3LFxuICBkYXksXG4gIHN0eWxlc1xufTogUHJldmlld1BsYWNlaG9sZGVyUHJvcHMpIHtcbiAgaWYgKCFwcmV2aWV3KSByZXR1cm4gbnVsbDtcbiAgY29uc3Qgc3RhcnREYXRlID0gcHJldmlldy5zdGFydERhdGUgPyBlbmRPZkRheShwcmV2aWV3LnN0YXJ0RGF0ZSkgOiBudWxsO1xuICBjb25zdCBlbmREYXRlID0gcHJldmlldy5lbmREYXRlID8gc3RhcnRPZkRheShwcmV2aWV3LmVuZERhdGUpIDogbnVsbDtcbiAgY29uc3QgaXNJblJhbmdlID1cbiAgICAoIXN0YXJ0RGF0ZSB8fCBpc0FmdGVyKGRheSwgc3RhcnREYXRlKSkgJiYgKCFlbmREYXRlIHx8IGlzQmVmb3JlKGRheSwgZW5kRGF0ZSkpO1xuICBjb25zdCBpc1N0YXJ0RWRnZSA9ICFpc0luUmFuZ2UgJiYgaXNTYW1lRGF5KGRheSwgc3RhcnREYXRlIGFzIERhdGUpO1xuICBjb25zdCBpc0VuZEVkZ2UgPSAhaXNJblJhbmdlICYmIGlzU2FtZURheShkYXksIGVuZERhdGUgYXMgRGF0ZSk7XG4gIHJldHVybiAoXG4gICAgPHNwYW5cbiAgICAgIGNsYXNzTmFtZT17Y2xhc3NuYW1lcyh7XG4gICAgICAgIFtzdHlsZXMuZGF5U3RhcnRQcmV2aWV3XTogaXNTdGFydEVkZ2UsXG4gICAgICAgIFtzdHlsZXMuZGF5SW5QcmV2aWV3XTogaXNJblJhbmdlLFxuICAgICAgICBbc3R5bGVzLmRheUVuZFByZXZpZXddOiBpc0VuZEVkZ2UsXG4gICAgICB9KX1cbiAgICAgIHN0eWxlPXt7IGNvbG9yOiBwcmV2aWV3LmNvbG9yIH19XG4gICAgLz5cbiAgKTtcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLE1BQUEsR0FBQUMsc0JBQUEsQ0FBQUYsT0FBQTtBQUVBLElBQUFHLFdBQUEsR0FBQUQsc0JBQUEsQ0FBQUYsT0FBQTtBQUFvQyxTQUFBRSx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLFNBQUFHLFNBQUEsSUFBQUEsUUFBQSxHQUFBQyxNQUFBLENBQUFDLE1BQUEsR0FBQUQsTUFBQSxDQUFBQyxNQUFBLENBQUFDLElBQUEsZUFBQUMsTUFBQSxhQUFBQyxDQUFBLE1BQUFBLENBQUEsR0FBQUMsU0FBQSxDQUFBQyxNQUFBLEVBQUFGLENBQUEsVUFBQUcsTUFBQSxHQUFBRixTQUFBLENBQUFELENBQUEsWUFBQUksR0FBQSxJQUFBRCxNQUFBLFFBQUFQLE1BQUEsQ0FBQVMsU0FBQSxDQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQUosTUFBQSxFQUFBQyxHQUFBLEtBQUFMLE1BQUEsQ0FBQUssR0FBQSxJQUFBRCxNQUFBLENBQUFDLEdBQUEsZ0JBQUFMLE1BQUEsWUFBQUosUUFBQSxDQUFBYSxLQUFBLE9BQUFQLFNBQUE7QUF5Q3JCLFNBQVNRLE9BQU9BLENBQUFDLElBQUEsRUFzQmQ7RUFBQSxJQXRCZTtJQUM5QkMsR0FBRztJQUNIQyxnQkFBZ0I7SUFDaEJDLElBQUk7SUFDSkMsTUFBTTtJ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